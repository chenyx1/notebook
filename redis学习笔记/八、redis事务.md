# 八、redis事务

[TOC]



#### 一、Redis事务介绍

​    redis事务本质上是一组命令的集合，一个事务中的所有命令都会序列化，按顺序地串行化执行而不会被其它命令插入，不许加塞。在一个队列中，一次性，顺序性，排他性的执行一系列命令。

- 事务是一个原子操作：事务中的命令要么全部被执行，要么全部都不执行。

一个事务从开始到执行会经历以下三个阶段：

- 开始事务。
- 命令入队。
- 执行事务
- MULTI 开始一个事务， 然后将多个命令入队到事务中， 最后由 EXEC 命令触发事务， 一并执行事务中的所有命令



#### 二、Redis事务常用命令

​       DISCARD 取消事务，放弃执行事务块内的所有命令。

​       EXEC 执行所有事务快内的命令

​       MULTI 标记一个事务快的开始。

​       UNWATCH取消WATCH命令对所有key的监控。

​     WATCH key 【key....】监视一个或多个key，如果事务执行之前key被其他命令改动，那么事务将被打断。





  